<?xml version="1.0" encoding="UTF-8"?>
<pd:ProcessDefinition xmlns:pd="http://xmlns.tibco.com/bw/process/2003" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:ns="http://www.tibco.com/namespaces/tnt/plugins/jms" xmlns:tib="http://www.tibco.com/bw/xslt/custom-functions" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pfx2="http://xmlns.heb.com/ei/PMM_CUSTOMER_DATA">
    <xsd:import namespace="http://xmlns.heb.com/ei/PMM_CUSTOMER_DATA" schemaLocation="/Shared Resources/Schema Definitions/Custom/PMM_CUSTOMER_DATA_SOAP.xsd"/>
    <pd:name>Project Name Processes/Main Process/CustomerData_Main.process</pd:name>
    <pd:startName>Start</pd:startName>
    <pd:startX>34</pd:startX>
    <pd:startY>132</pd:startY>
    <pd:returnBindings/>
    <pd:endName>End</pd:endName>
    <pd:endX>1377</pd:endX>
    <pd:endY>131</pd:endY>
    <pd:errorSchemas/>
    <pd:processVariables>
        <CustomerData>
            <xsd:element name="root">
                <xsd:complexType>
                    <xsd:sequence>
                        <xsd:element name="MSG_OUT" type="xsd:string"/>
                    </xsd:sequence>
                </xsd:complexType>
            </xsd:element>
        </CustomerData>
    </pd:processVariables>
    <pd:targetNamespace>http://xmlns.example.com/1372111266897</pd:targetNamespace>
    <pd:activity name="getCUSTOMERData">
        <pd:type>com.tibco.pe.core.CallProcessActivity</pd:type>
        <pd:resourceType>ae.process.subprocess</pd:resourceType>
        <pd:x>150</pd:x>
        <pd:y>133</pd:y>
        <config>
            <processName>/Project Name Processes/Sub Process/getCUSTOMERData.process</processName>
        </config>
        <pd:inputBindings/>
    </pd:activity>
    <pd:activity name="Map Data">
        <pd:type>com.tibco.plugin.mapper.MapperActivity</pd:type>
        <pd:resourceType>ae.activities.MapperActivity</pd:resourceType>
        <pd:x>310</pd:x>
        <pd:y>134</pd:y>
        <config>
            <element>
                <xsd:element name="root">
                    <xsd:complexType>
                        <xsd:sequence>
                            <xsd:element name="group" minOccurs="0" maxOccurs="unbounded">
                                <xsd:complexType>
                                    <xsd:sequence>
                                        <xsd:element name="RECORD_ID" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="ROW_STAT" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="CUST_ID" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="CUST_NAME" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="CONTACT_NAME" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="ADDR_LINE1" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="ADDR_LINE2" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="CITY" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="STATE" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="ZIP" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="PHONE_NO" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="COUNTY" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="COUNTRY" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="PAL_RND_FLG" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="CHK_IN_DOC_FLG" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="PKTY_ID" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="Customer-Override-Flag" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="Ship-Method" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="Selection-Document" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="Filler" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="CATCH_WGT_CTL" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="COMB_ORD_FLG" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="BATCH_PCK_FLG" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="CREATE_DTIM" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="CREATE_USER" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="CHANGE_DTIM" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="CHANGE_USER" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="SECO_FLG" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="SPC_INSTR" type="xsd:string" minOccurs="0"/>
                                        <xsd:element name="TRAN_TYPE" type="xsd:string"/>
                                        <xsd:element name="AUDIT_NUMBER" type="xsd:string"/>
                                    </xsd:sequence>
                                </xsd:complexType>
                            </xsd:element>
                        </xsd:sequence>
                    </xsd:complexType>
                </xsd:element>
            </element>
        </config>
        <pd:inputBindings>
            <root>
                <xsl:for-each select="$getCUSTOMERData/root/arrayData">
                    <group>
                        <RECORD_ID>
                            <xsl:value-of select="RECORD_ID"/>
                        </RECORD_ID>
                        <ROW_STAT>
                            <xsl:value-of select="ROW_STAT"/>
                        </ROW_STAT>
                        <CUST_ID>
                            <xsl:value-of select="CUST_ID"/>
                        </CUST_ID>
                        <CUST_NAME>
                            <xsl:value-of select="CUST_NAME"/>
                        </CUST_NAME>
                        <CONTACT_NAME>
                            <xsl:value-of select="CONTACT_NAME"/>
                        </CONTACT_NAME>
                        <ADDR_LINE1>
                            <xsl:value-of select="ADDR_LINE1"/>
                        </ADDR_LINE1>
                        <ADDR_LINE2>
                            <xsl:value-of select="ADDR_LINE2"/>
                        </ADDR_LINE2>
                        <CITY>
                            <xsl:value-of select="CITY"/>
                        </CITY>
                        <STATE>
                            <xsl:value-of select="STATE"/>
                        </STATE>
                        <ZIP>
                            <xsl:value-of select="'---'"/>
                        </ZIP>
                        <PHONE_NO>
                            <xsl:value-of select="PHONE_NO"/>
                        </PHONE_NO>
                        <PAL_RND_FLG>
                            <xsl:value-of select="'N'"/>
                        </PAL_RND_FLG>
                        <CHK_IN_DOC_FLG>
                            <xsl:value-of select="'N'"/>
                        </CHK_IN_DOC_FLG>
                        <PKTY_ID>
                            <xsl:value-of select="'B'"/>
                        </PKTY_ID>
                        <Customer-Override-Flag>
                            <xsl:value-of select="'N'"/>
                        </Customer-Override-Flag>
                        <CATCH_WGT_CTL>
                            <xsl:value-of select="'Y'"/>
                        </CATCH_WGT_CTL>
                        <COMB_ORD_FLG>
                            <xsl:value-of select="'Y'"/>
                        </COMB_ORD_FLG>
                        <BATCH_PCK_FLG>
                            <xsl:value-of select="'Y'"/>
                        </BATCH_PCK_FLG>
                        <CREATE_USER/>
                        <CHANGE_DTIM/>
                        <CHANGE_USER/>
                        <SECO_FLG/>
                        <SPC_INSTR/>
                        <TRAN_TYPE>
                            <xsl:value-of select="TRAN_TYPE"/>
                        </TRAN_TYPE>
                        <AUDIT_NUMBER>
                            <xsl:value-of select="AUDIT_NUMBER"/>
                        </AUDIT_NUMBER>
                    </group>
                </xsl:for-each>
            </root>
        </pd:inputBindings>
    </pd:activity>
    <pd:group name="Group">
        <pd:type>com.tibco.pe.core.LoopGroup</pd:type>
        <pd:resourceType>ae.process.group</pd:resourceType>
        <pd:x>397</pd:x>
        <pd:y>34</pd:y>
        <pd:width>445</pd:width>
        <pd:height>178</pd:height>
        <pd:collapsedWidth>57</pd:collapsedWidth>
        <pd:collapsedHeight>70</pd:collapsedHeight>
        <pd:groupVariables/>
        <pd:joinToggle>inherit</pd:joinToggle>
        <config>
            <pd:groupType>inputLoop</pd:groupType>
            <pd:serializable>false</pd:serializable>
            <pd:over>$Map-Data/root/group</pd:over>
            <pd:iterationElementSlot>customerlist</pd:iterationElementSlot>
            <pd:indexSlot>indexarray</pd:indexSlot>
            <pd:activityOutputName/>
            <pd:accumulateOutput>false</pd:accumulateOutput>
        </config>
        <pd:inputBindings/>
        <pd:expanded>true</pd:expanded>
        <pd:transition>
            <pd:from>start</pd:from>
            <pd:to>Render_CustomerData</pd:to>
            <pd:lineType>Default</pd:lineType>
            <pd:lineColor>-16777216</pd:lineColor>
            <pd:conditionType>always</pd:conditionType>
        </pd:transition>
        <pd:transition>
            <pd:from>Build_Data</pd:from>
            <pd:to>end</pd:to>
            <pd:lineType>Default</pd:lineType>
            <pd:lineColor>-16777216</pd:lineColor>
            <pd:conditionType>always</pd:conditionType>
        </pd:transition>
        <pd:transition>
            <pd:from>Render_CustomerData</pd:from>
            <pd:to>Sustitución</pd:to>
            <pd:lineType>Default</pd:lineType>
            <pd:lineColor>-16777216</pd:lineColor>
            <pd:conditionType>always</pd:conditionType>
        </pd:transition>
        <pd:transition>
            <pd:from>Sustitución</pd:from>
            <pd:to>Build_Data</pd:to>
            <pd:lineType>Default</pd:lineType>
            <pd:lineColor>-16777216</pd:lineColor>
            <pd:conditionType>always</pd:conditionType>
        </pd:transition>
        <pd:activity name="Render_CustomerData">
            <pd:type>com.tibco.plugin.parse.RenderActivity</pd:type>
            <pd:resourceType>ae.activities.RenderActivity</pd:resourceType>
            <pd:x>495</pd:x>
            <pd:y>132</pd:y>
            <config>
                <ParseSharedConfig>/Shared Resources/Data Format/Data Format.sharedparse</ParseSharedConfig>
            </config>
            <pd:inputBindings>
                <Rows>
                    <xsl:for-each select="$customerlist/group">
                        <root>
                            <record_id>
                                <xsl:value-of select="concat( &quot;&#xA;&quot; ,&quot;CUSTOMER&quot;)"/>
                            </record_id>
                            <action_code>
                                <xsl:value-of select="ROW_STAT"/>
                            </action_code>
                            <customer_number>
                                <xsl:value-of select="CUST_ID"/>
                            </customer_number>
                            <customer_name>
                                <xsl:value-of select="CUST_NAME"/>
                            </customer_name>
                            <contact_name>
                                <xsl:value-of select="CONTACT_NAME"/>
                            </contact_name>
                            <address_line1>
                                <xsl:value-of select="ADDR_LINE1"/>
                            </address_line1>
                            <address_line2>
                                <xsl:value-of select="ADDR_LINE2"/>
                            </address_line2>
                            <city>
                                <xsl:value-of select="CITY"/>
                            </city>
                            <state>
                                <xsl:value-of select="STATE"/>
                            </state>
                            <zip_code>
                                <xsl:value-of select="ZIP"/>
                            </zip_code>
                            <phone_number>
                                <xsl:value-of select="PHONE_NO"/>
                            </phone_number>
                            <county_code>
                                <xsl:value-of select="COUNTY"/>
                            </county_code>
                            <country_code>
                                <xsl:value-of select="COUNTRY"/>
                            </country_code>
                            <pal_rnd_flg>
                                <xsl:value-of select="PAL_RND_FLG"/>
                            </pal_rnd_flg>
                            <chk_in_doc_flg>
                                <xsl:value-of select="CHK_IN_DOC_FLG"/>
                            </chk_in_doc_flg>
                            <pkty_id>
                                <xsl:value-of select="PKTY_ID"/>
                            </pkty_id>
                            <customer_override_flag>
                                <xsl:value-of select="Customer-Override-Flag"/>
                            </customer_override_flag>
                            <ship_method>
                                <xsl:value-of select="Ship-Method"/>
                            </ship_method>
                            <selection_document>
                                <xsl:value-of select="Selection-Document"/>
                            </selection_document>
                            <filler>
                                <xsl:value-of select="Filler"/>
                            </filler>
                            <catch_wgt_ctl>
                                <xsl:value-of select="CATCH_WGT_CTL"/>
                            </catch_wgt_ctl>
                            <comb_ord_flg>
                                <xsl:value-of select="COMB_ORD_FLG"/>
                            </comb_ord_flg>
                            <batch_pck_flg>
                                <xsl:value-of select="BATCH_PCK_FLG"/>
                            </batch_pck_flg>
                            <create_dtim>
                                <xsl:value-of select="CREATE_DTIM"/>
                            </create_dtim>
                            <create_user>
                                <xsl:value-of select="CREATE_USER"/>
                            </create_user>
                            <change_dtim>
                                <xsl:value-of select="CHANGE_DTIM"/>
                            </change_dtim>
                            <change_user>
                                <xsl:value-of select="CHANGE_USER"/>
                            </change_user>
                            <seco_flg>
                                <xsl:value-of select="SECO_FLG"/>
                            </seco_flg>
                            <spc_instr>
                                <xsl:value-of select="concat(SPC_INSTR,&#xA;&#x9;&#x9;'|')"/>
                            </spc_instr>
                        </root>
                    </xsl:for-each>
                </Rows>
            </pd:inputBindings>
        </pd:activity>
        <pd:activity name="Build_Data">
            <pd:type>com.tibco.pe.core.AssignActivity</pd:type>
            <pd:resourceType>ae.activities.assignActivity</pd:resourceType>
            <pd:x>752</pd:x>
            <pd:y>129</pd:y>
            <config>
                <variableName>CustomerData</variableName>
            </config>
            <pd:inputBindings>
                <root>
                    <MSG_OUT>
                        <xsl:value-of select="concat($Sustitución/root/group/CUST_STR, $CustomerData/root/MSG_OUT)"/>
                    </MSG_OUT>
                </root>
            </pd:inputBindings>
        </pd:activity>
        <pd:activity name="Sustitución">
            <pd:type>com.tibco.plugin.mapper.MapperActivity</pd:type>
            <pd:resourceType>ae.activities.MapperActivity</pd:resourceType>
            <pd:x>623</pd:x>
            <pd:y>132</pd:y>
            <config>
                <element>
                    <xsd:element name="root">
                        <xsd:complexType>
                            <xsd:sequence>
                                <xsd:element name="group">
                                    <xsd:complexType>
                                        <xsd:sequence>
                                            <xsd:element name="CUST_STR" type="xsd:string"/>
                                        </xsd:sequence>
                                    </xsd:complexType>
                                </xsd:element>
                            </xsd:sequence>
                        </xsd:complexType>
                    </xsd:element>
                </element>
            </config>
            <pd:inputBindings>
                <root>
                    <group>
                        <CUST_STR>
                            <xsl:value-of select="translate(translate($Render_CustomerData/Text, 'ÑñáéíóúÁÉÍÓÚ#±´?','NnaeiouAEIOU n  '),'%','')"/>
                        </CUST_STR>
                    </group>
                </root>
            </pd:inputBindings>
        </pd:activity>
    </pd:group>
    <pd:activity name="Send MXRSC_9701">
        <pd:type>com.tibco.plugin.jms.JMSQueueSendActivity</pd:type>
        <pd:resourceType>ae.activities.JMSQueueSendActivity</pd:resourceType>
        <pd:x>959</pd:x>
        <pd:y>77</pd:y>
        <config>
            <PermittedMessageType>Text</PermittedMessageType>
            <SessionAttributes>
                <transacted>false</transacted>
                <acknowledgeMode>1</acknowledgeMode>
                <maxSessions>1</maxSessions>
                <destination>%%Destinations/Queues/GLB_MXRSC_9701_OUTBOUND_QUEUE%%</destination>
            </SessionAttributes>
            <ConfigurableHeaders>
                <JMSDeliveryMode>%%Connections/JMS/Properties/GLB_DELIVERY_MODE%%</JMSDeliveryMode>
                <JMSExpiration>%%Connections/JMS/Properties/GLB_JMS_EXPIRATION%%</JMSExpiration>
                <JMSPriority>%%Connections/JMS/Properties/GLB_JMS_PRIORITY%%</JMSPriority>
            </ConfigurableHeaders>
            <ConnectionReference>/Shared Resources/Connections/JMS/JMS Connection.sharedjmscon</ConnectionReference>
        </config>
        <pd:inputBindings>
            <ns:ActivityInput>
                <Body>
                    <xsl:value-of select="concat(concat(tib:pad('EXceed 2000',19,' '),'|',&#xA;tib:pad('Customer 1.0',19,' '),'|',&#xA;tib:pad(' ',19,' '),'|',&#xA;tib:pad(' ',19,' '),'|'),$CustomerData/root/MSG_OUT)"/>
                </Body>
            </ns:ActivityInput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Send MXRSC_7901">
        <pd:type>com.tibco.plugin.jms.JMSQueueSendActivity</pd:type>
        <pd:resourceType>ae.activities.JMSQueueSendActivity</pd:resourceType>
        <pd:x>952</pd:x>
        <pd:y>171</pd:y>
        <config>
            <PermittedMessageType>Text</PermittedMessageType>
            <SessionAttributes>
                <transacted>false</transacted>
                <acknowledgeMode>1</acknowledgeMode>
                <maxSessions>1</maxSessions>
                <destination>%%Destinations/Queues/GLB_MXRSC_7901_OUTBOUND_QUEUE%%</destination>
            </SessionAttributes>
            <ConfigurableHeaders>
                <JMSDeliveryMode>%%Connections/JMS/Properties/GLB_DELIVERY_MODE%%</JMSDeliveryMode>
                <JMSExpiration>%%Connections/JMS/Properties/GLB_JMS_EXPIRATION%%</JMSExpiration>
                <JMSPriority>%%Connections/JMS/Properties/GLB_JMS_PRIORITY%%</JMSPriority>
            </ConfigurableHeaders>
            <ConnectionReference>/Shared Resources/Connections/JMS/JMS Connection.sharedjmscon</ConnectionReference>
        </config>
        <pd:inputBindings>
            <ns:ActivityInput>
                <Body>
                    <xsl:value-of select="concat(concat(tib:pad('EXceed 2000',19,' '),'|',&#xA;tib:pad('Customer 1.0',19,' '),'|',&#xA;tib:pad(' ',19,' '),'|',&#xA;tib:pad(' ',19,' '),'|'),$CustomerData/root/MSG_OUT)"/>
                </Body>
            </ns:ActivityInput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Null">
        <pd:type>com.tibco.plugin.timer.NullActivity</pd:type>
        <pd:resourceType>ae.activities.null</pd:resourceType>
        <pd:x>1115</pd:x>
        <pd:y>131</pd:y>
        <config/>
        <pd:inputBindings/>
    </pd:activity>
    <pd:activity name="updateCUSTOMERData">
        <pd:type>com.tibco.pe.core.CallProcessActivity</pd:type>
        <pd:resourceType>ae.process.subprocess</pd:resourceType>
        <pd:x>1241</pd:x>
        <pd:y>131</pd:y>
        <config>
            <processName>/Project Name Processes/Sub Process/updateCUSTOMERData.process</processName>
        </config>
        <pd:inputBindings>
            <root>
                <xsl:for-each select="$getCUSTOMERData/root/arrayData">
                    <group>
                        <TRAN_TYPE>
                            <xsl:value-of select="TRAN_TYPE"/>
                        </TRAN_TYPE>
                        <AUDIT_NUMBER>
                            <xsl:value-of select="AUDIT_NUMBER"/>
                        </AUDIT_NUMBER>
                    </group>
                </xsl:for-each>
            </root>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Null-1">
        <pd:type>com.tibco.plugin.timer.NullActivity</pd:type>
        <pd:resourceType>ae.activities.null</pd:resourceType>
        <pd:x>149</pd:x>
        <pd:y>452</pd:y>
        <config/>
        <pd:inputBindings/>
    </pd:activity>
    <pd:group name="Group (1)">
        <pd:type>com.tibco.pe.core.LoopGroup</pd:type>
        <pd:resourceType>ae.process.group</pd:resourceType>
        <pd:x>301</pd:x>
        <pd:y>268</pd:y>
        <pd:width>280</pd:width>
        <pd:height>150</pd:height>
        <pd:collapsedWidth>57</pd:collapsedWidth>
        <pd:collapsedHeight>70</pd:collapsedHeight>
        <pd:groupVariables/>
        <pd:joinToggle>inherit</pd:joinToggle>
        <config>
            <pd:groupType>inputLoop</pd:groupType>
            <pd:serializable>false</pd:serializable>
            <pd:over>$getCUSTOMERData/root/arrayData</pd:over>
            <pd:iterationElementSlot>CustomerList</pd:iterationElementSlot>
            <pd:indexSlot>index</pd:indexSlot>
            <pd:activityOutputName/>
            <pd:accumulateOutput>false</pd:accumulateOutput>
        </config>
        <pd:inputBindings/>
        <pd:expanded>true</pd:expanded>
        <pd:transition>
            <pd:from>start</pd:from>
            <pd:to>Map Customer</pd:to>
            <pd:lineType>Default</pd:lineType>
            <pd:lineColor>-16777216</pd:lineColor>
            <pd:conditionType>always</pd:conditionType>
        </pd:transition>
        <pd:transition>
            <pd:from>JMS Topic Publisher</pd:from>
            <pd:to>end</pd:to>
            <pd:lineType>Default</pd:lineType>
            <pd:lineColor>-16777216</pd:lineColor>
            <pd:conditionType>always</pd:conditionType>
        </pd:transition>
        <pd:transition>
            <pd:from>Map Customer</pd:from>
            <pd:to>JMS Topic Publisher</pd:to>
            <pd:lineType>Default</pd:lineType>
            <pd:lineColor>-16777216</pd:lineColor>
            <pd:conditionType>always</pd:conditionType>
        </pd:transition>
        <pd:activity name="JMS Topic Publisher">
            <pd:type>com.tibco.plugin.jms.JMSTopicPublishActivity</pd:type>
            <pd:resourceType>ae.activities.JMSTopicPublishActivity</pd:resourceType>
            <pd:x>489</pd:x>
            <pd:y>356</pd:y>
            <config>
                <PermittedMessageType>XML Text</PermittedMessageType>
                <SessionAttributes>
                    <transacted>false</transacted>
                    <acknowledgeMode>1</acknowledgeMode>
                    <maxSessions>1</maxSessions>
                    <destination>%%Destinations/Topics/CUSTOMER_TOPIC%%</destination>
                </SessionAttributes>
                <ConfigurableHeaders>
                    <JMSDeliveryMode>PERSISTENT</JMSDeliveryMode>
                    <JMSExpiration>0</JMSExpiration>
                    <JMSPriority>4</JMSPriority>
                </ConfigurableHeaders>
                <ConnectionReference>/Shared Resources/Connections/JMS/JMS Connection USA.sharedjmscon</ConnectionReference>
                <InDataxsdString ref="pfx2:MSG_CONTAINER"/>
            </config>
            <pd:inputBindings>
                <ns:ActivityInput>
                    <Body>
                        <pfx2:MSG_CONTAINER>
                            <pfx2:Body>
                                <pfx2:PMM_CUSTOMER>
                                    <xsl:for-each xmlns:xsl="http://www.w3.org/1999/XSL/Transform" select="$Map-Customer/root/arrayData">
                                        <pfx2:ITEM>
                                            <pfx2:RECORDID>
                                                <xsl:value-of select="RECORD_ID"/>
                                            </pfx2:RECORDID>
                                            <pfx2:ACTIONCODE>
                                                <xsl:value-of select="ROW_STAT"/>
                                            </pfx2:ACTIONCODE>
                                            <pfx2:CUSTOMERNUMBER>
                                                <xsl:value-of select="CUST_ID"/>
                                            </pfx2:CUSTOMERNUMBER>
                                            <pfx2:CUSTOMERNAME>
                                                <xsl:value-of select="CUST_NAME"/>
                                            </pfx2:CUSTOMERNAME>
                                            <pfx2:CONTACTNAME>
                                                <xsl:choose>
                                                    <xsl:when test="exists(CONTACT_NAME)">
                                                        <xsl:value-of select="CONTACT_NAME"/>
                                                    </xsl:when>
                                                    <xsl:otherwise>
                                                        <xsl:attribute name="xsi:nil">true</xsl:attribute>
                                                    </xsl:otherwise>
                                                </xsl:choose>
                                            </pfx2:CONTACTNAME>
                                            <pfx2:ADDRESSLINE1>
                                                <xsl:choose>
                                                    <xsl:when test="exists(ADDR_LINE1)">
                                                        <xsl:value-of select="ADDR_LINE1"/>
                                                    </xsl:when>
                                                    <xsl:otherwise>
                                                        <xsl:attribute name="xsi:nil">true</xsl:attribute>
                                                    </xsl:otherwise>
                                                </xsl:choose>
                                            </pfx2:ADDRESSLINE1>
                                            <pfx2:ADDRESSLINE2>
                                                <xsl:choose>
                                                    <xsl:when test="exists(ADDR_LINE2)">
                                                        <xsl:value-of select="ADDR_LINE2"/>
                                                    </xsl:when>
                                                    <xsl:otherwise>
                                                        <xsl:attribute name="xsi:nil">true</xsl:attribute>
                                                    </xsl:otherwise>
                                                </xsl:choose>
                                            </pfx2:ADDRESSLINE2>
                                            <pfx2:CITY>
                                                <xsl:value-of select="CITY"/>
                                            </pfx2:CITY>
                                            <pfx2:STATE>
                                                <xsl:value-of select="STATE"/>
                                            </pfx2:STATE>
                                            <pfx2:PHONENUMBER>
                                                <xsl:choose>
                                                    <xsl:when test="exists(PHONE_NO)">
                                                        <xsl:value-of select="PHONE_NO"/>
                                                    </xsl:when>
                                                    <xsl:otherwise>
                                                        <xsl:attribute name="xsi:nil">true</xsl:attribute>
                                                    </xsl:otherwise>
                                                </xsl:choose>
                                            </pfx2:PHONENUMBER>
                                            <pfx2:TRAN_TYPE>
                                                <xsl:value-of select="TRAN_TYPE"/>
                                            </pfx2:TRAN_TYPE>
                                            <pfx2:AUDIT_NUMBER>
                                                <xsl:value-of select="AUDIT_NUMBER"/>
                                            </pfx2:AUDIT_NUMBER>
                                        </pfx2:ITEM>
                                    </xsl:for-each>
                                </pfx2:PMM_CUSTOMER>
                            </pfx2:Body>
                        </pfx2:MSG_CONTAINER>
                    </Body>
                </ns:ActivityInput>
            </pd:inputBindings>
        </pd:activity>
        <pd:activity name="Map Customer">
            <pd:type>com.tibco.plugin.mapper.MapperActivity</pd:type>
            <pd:resourceType>ae.activities.MapperActivity</pd:resourceType>
            <pd:x>374</pd:x>
            <pd:y>348</pd:y>
            <config>
                <element>
                    <xsd:element name="root">
                        <xsd:complexType>
                            <xsd:sequence>
                                <xsd:element name="arrayData" minOccurs="0" maxOccurs="unbounded">
                                    <xsd:complexType>
                                        <xsd:sequence>
                                            <xsd:element name="AUDIT_NUMBER" type="xsd:string"/>
                                            <xsd:element name="RECORD_ID" type="xsd:string"/>
                                            <xsd:element name="ROW_STAT" type="xsd:string"/>
                                            <xsd:element name="CUST_ID" type="xsd:string"/>
                                            <xsd:element name="CUST_NAME" type="xsd:string"/>
                                            <xsd:element name="CONTACT_NAME" type="xsd:string" minOccurs="0"/>
                                            <xsd:element name="ADDR_LINE1" type="xsd:string" minOccurs="0"/>
                                            <xsd:element name="ADDR_LINE2" type="xsd:string" minOccurs="0"/>
                                            <xsd:element name="CITY" type="xsd:string" minOccurs="0"/>
                                            <xsd:element name="STATE" type="xsd:string" minOccurs="0"/>
                                            <xsd:element name="PHONE_NO" type="xsd:string" minOccurs="0"/>
                                            <xsd:element name="TRAN_TYPE" type="xsd:string"/>
                                        </xsd:sequence>
                                    </xsd:complexType>
                                </xsd:element>
                            </xsd:sequence>
                        </xsd:complexType>
                    </xsd:element>
                </element>
            </config>
            <pd:inputBindings>
                <root>
                    <xsl:for-each xmlns:xsl="http://www.w3.org/1999/XSL/Transform" select="$CustomerList/arrayData">
                        <arrayData>
                            <AUDIT_NUMBER>
                                <xsl:value-of select="tib:trim(AUDIT_NUMBER)"/>
                            </AUDIT_NUMBER>
                            <RECORD_ID>
                                <xsl:value-of select="tib:trim(RECORD_ID)"/>
                            </RECORD_ID>
                            <ROW_STAT>
                                <xsl:value-of select="tib:trim(ROW_STAT)"/>
                            </ROW_STAT>
                            <CUST_ID>
                                <xsl:value-of select="tib:trim(CUST_ID)"/>
                            </CUST_ID>
                            <CUST_NAME>
                                <xsl:value-of select="tib:trim(CUST_NAME)"/>
                            </CUST_NAME>
                            <CONTACT_NAME>
                                <xsl:value-of select="tib:trim(CONTACT_NAME)"/>
                            </CONTACT_NAME>
                            <ADDR_LINE1>
                                <xsl:value-of select="tib:trim(ADDR_LINE1)"/>
                            </ADDR_LINE1>
                            <ADDR_LINE2>
                                <xsl:value-of select="tib:trim(ADDR_LINE2)"/>
                            </ADDR_LINE2>
                            <CITY>
                                <xsl:value-of select="tib:trim(CITY)"/>
                            </CITY>
                            <STATE>
                                <xsl:value-of select="tib:trim(STATE)"/>
                            </STATE>
                            <PHONE_NO>
                                <xsl:value-of select="tib:trim(PHONE_NO)"/>
                            </PHONE_NO>
                            <TRAN_TYPE>
                                <xsl:value-of select="tib:trim(TRAN_TYPE)"/>
                            </TRAN_TYPE>
                        </arrayData>
                    </xsl:for-each>
                </root>
            </pd:inputBindings>
        </pd:activity>
    </pd:group>
    <pd:transition>
        <pd:from>Start</pd:from>
        <pd:to>getCUSTOMERData</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>getCUSTOMERData</pd:from>
        <pd:to>Null-1</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>otherwise</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Map Data</pd:from>
        <pd:to>Group</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Group</pd:from>
        <pd:to>Send MXRSC_9701</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Group</pd:from>
        <pd:to>Send MXRSC_7901</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Send MXRSC_9701</pd:from>
        <pd:to>Null</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Send MXRSC_7901</pd:from>
        <pd:to>Null</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Null</pd:from>
        <pd:to>updateCUSTOMERData</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>updateCUSTOMERData</pd:from>
        <pd:to>End</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>getCUSTOMERData</pd:from>
        <pd:to>Map Data</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>xpath</pd:conditionType>
        <pd:xpath>count($getCUSTOMERData/root/arrayData)&gt;0</pd:xpath>
    </pd:transition>
    <pd:transition>
        <pd:from>Null-1</pd:from>
        <pd:to>End</pd:to>
        <pd:lineType>One Bend</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>getCUSTOMERData</pd:from>
        <pd:to>Group (1)</pd:to>
        <pd:lineType>Multiple Bends</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>xpath</pd:conditionType>
        <pd:xpath>count($getCUSTOMERData/root/arrayData)&gt;0</pd:xpath>
    </pd:transition>
    <pd:transition>
        <pd:from>Group (1)</pd:from>
        <pd:to>End</pd:to>
        <pd:lineType>One Bend</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
</pd:ProcessDefinition>